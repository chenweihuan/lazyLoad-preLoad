<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>图片预加载</title>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <style>
        body,html{
            width: 100%;
            height: 100%;
        }
        .loading{
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            color: #fff;
            text-align: center;
        }
    </style>

</head>
<body>
    <div class="box">
        <img id="img" width="100%" height="580" src="http://pic1.win4000.com/wallpaper/9/579c3fbaa2918.jpg" alt="">
        <p>
            <a href="javascript:;" class="btn" data-dirction="prev">上一页</a>
            <a href="javascript:;" class="btn" data-dirction="next">下一页</a>
        </p>
    </div>
    <script src="proload.js"></script>
    <script>
        var imgs=[
            'http://pic1.win4000.com/wallpaper/9/579c3fbaa2918.jpg',
            'https://tse3-mm.cn.bing.net/th?id=OIP.rO8sgyrW2QEaLYhogsU-5QHaF7&w=259&h=160&c=7&o=5&pid=1.7',
            'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1507396544706&di=7b83b4ba4b6b4952a076bcb701a54d77&imgtype=jpg&src=http%3A%2F%2Fimg1.imgtn.bdimg.com%2Fit%2Fu%3D3804939088%2C891611583%26fm%3D214%26gp%3D0.jpg',
            'https://tse4-mm.cn.bing.net/th?id=OIP.U_pSk4kjstbjnfYu3QnJyQHaFZ&w=243&h=174&c=7&o=5&pid=1.7'
        ];
        var index = 0,
            len = imgs.length,
            a = 1;
        $.preload(imgs, {
            order: 'unordered',
            each: function (count) {
                console.log('正在加载第' + (count + 1) + '张图片');
            },
            all: function () {
                console.log('全部加载完成');
            }
        });
        $(".btn").on('click',function(){
            $(this).context.dataset.dirction == "prev"? index = Math.max(0,--index):index = Math.min(len-1,++index);
            $("#img").attr('src',imgs[index]);
        })
    </script>
</body>
</html>